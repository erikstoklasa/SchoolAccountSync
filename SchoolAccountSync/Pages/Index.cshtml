@page
@model IndexModel
@{
    ViewData["Title"] = "Dashboard";
}
<div class="button-row">
    <a class="button-primary" asp-page="Export" asp-page-handler="csv">Export do csv</a>
    <a class="button-primary" href="" id="generate-pdf-button">Export do pdf</a>
</div>
<div class="user-list">
    @foreach (var u in Model.Users)
    {

        <div class='user-item'>
            <div>
                <span class="user-info-primary">@u.FullName() - @u.Class</span>
                <span class="user-info-secondary">@u.PersonalEmail / @u.SchoolEmail</span>
            </div>
            <a class="button-primary" asp-page="User" asp-route-id="@u.Id">Zobrazit</a>
        </div>

    }
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script type="text/javascript">
    window.jsPDF = window.jspdf.jsPDF
    var btn = document.querySelector('#generate-pdf-button');
    btn.addEventListener("click", function () {
        var doc = new jsPDF();
        doc.text("Hello world!", 10, 10);
        doc.save("a4.pdf");
    });

</script>